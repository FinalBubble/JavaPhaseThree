# SpringBoot

### SSM三大框架

- Spring框架(第四阶段讲)

- SpringMVC框架(第二阶段到第四阶段)

- Mybatis框架(第三阶段到第四阶段)

### SpringBoot框架

- 如果创建一个空工程,在此工程中使用SSM框架时需要添加大量的依赖和书写大量的配置文件, 通过SpringBoot框架可以更加便捷的让工程中引入各种框架, SpringBoot框架帮助我们构建工程.

### Web服务软件做了那些事儿?

- web服务软件就是之前写的webServer, 也就是Tomcat

1. 负责建立底层的网络连接

2. 根据客户端请求的静态资源路径找到对应的静态资源文件并把该文件返回给客户端 

   举例:[http://localhost:8080/](http://localhost:8080/hello)index.html

3. 根据客户端请求的动态资源路径找到对应的Controller里面的方法并且执行

   举例:http://localhost:8080/hello

- Web服务软件自身不提供任何业务功能,通过Controller给工程添加具体的业务功能



### 客户端发出请求的几种方式

1. 通过浏览器的地址栏中发出请求
2. 通过html页面中的超链接发出请求
3. 通过html页面中的form表单发出请求
4. 通过前端框架发出请求




### Mybatis框架

- 此框架是目前最流行的数据持久层框架 , 是对JDBC代码进行了封装 , 程序员只需要通过注解或配置文件的方式提供需要执行的SQL语句 , 框架会自动根据SQL语句生成出JDBC代码 , 从而提高执行效率

  - 在application.properties配置文件中书写连接数据库的信息

  ```properties
  spring.datasource.url=jdbc:mysql://localhost:3306/empdb?characterEncoding=utf8&serverTimezone=Asia/Shanghai&useSSL=false
  
  spring.datasource.username=root
  
  spring.datasource.password=root
  ```

### 项目学习

#### 同步请求和异步请求

- 同步 : 指单线程依次做几件事 

- 异步 : 指多线程同时做几件事 

- 同步请求 : 指客户端浏览器只有一个主线程, 此线程负责页面的渲染和发出请求等操作, 如果此主线程发出请求的话则停止渲染而且会清空页面显示的内容 , 直到服务器响应了数据后才能再次显示, 由于主线程清空了原有显示的内容所以只能实现页面的整体刷新(整体改变) 

- 异步请求 : 指客户端的主线程只负责页面渲染相关操作,发请求的事儿由新的子线程操作, 这样子线程发出请求时页面不需要清空 , 而且可以将查询回来的数据展示在原有页面基础之上, 这样实现的效果就叫做页面的局部刷新

#### 客户端发出请求的几种方式

1. 通过浏览器的地址栏中发出请求   同步请求
2. 通过html页面中的超链接发出请求   同步请求
3. 通过html页面中的form表单发出请求   同步请求
4. 通过前端框架发出请求    异步请求





#### 客户端如何发出异步请求

1. 通过Axios框架发出异步请求

2. 此框架就是一个普通的js文件 , 页面需要使用此框架时需要将此文件引入到页面中

3. axios框架地址 , 下载axios.min.js文件  

 ```html
<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.min.js"></script>
 ```

static目录下创建js目录 , 将axios.min.js和vue.js放入此目录中

#### Get请求和Post请求

- 从字面意思理解 , Get是向服务器要数据 , Post是给服务器传数据  

- Get : 请求参数写在请求地址的后面(可见) , 请求参数有大小限制只能传几k的数据(不能处理文件上传)

  应用场景 :  查询请求一般都会使用get ,  删除也会使用get请求  

- Post : 请求参数放在请求体里面(不可见) , 参数没有大小限制

  应用场景 : 文件上传 , 带有敏感信息的请求(比如注册登录时有密码)



#### 后端的MVC设计模式

- 把实现一个业务的代码划分为三部分,分别是 : 页面相关(V),业务逻辑相关(C),数据相关(M)

- M : Model 数据模型, 对应的代码是数据库相关的Mapper部分

- V : View 视图, 对应所有页面相关内容

- C : Controller 控制器, 对应的是Controller相关代码

- 实现一个业务的顺序 : V页面相关代码 -> C Controller相关代码 -> M 数据库Mapper相关代码

- 排错时也是从这三部分代码中找问题

- 后端MVC涉及模式中的V页面相关,前端工程师将页面又划分为了MVC三部分 



#### 前后端分离

<img src="F:/BaiduNetdisk_Downloads/课程源码/javavn2206-master/06第三阶段笔记/06第三阶段笔记/企业微信截图_16700549171790.png" alt="img" style="zoom:50%;" />

- 如果前后端不分离, 后端服务器需要两套代码来应对 手机客户端和浏览器客户端, 因为不同的客户端的需求内容是不一样的,这样后端的开发效率就会受影响. 

<img src="F:/BaiduNetdisk_Downloads/课程源码/javavn2206-master/06第三阶段笔记/06第三阶段笔记/企业微信截图_16700549479941.png" alt="img" style="zoom:50%;" />

- 前后端分离:指在Controller中不再处理页面相关内容, 浏览器客户端需要先请求页面,页面加载完之后从页面中再次发出请求获取数据, 得到数据后把数据展示在页面中,这个过程属于页面的局部刷新, 同步请求只能实现页面的整体刷新无法实现局部刷新, 所以以后不再使用同步请求, 全部使用异步请求,因为以后工作基本全是前后端分离思想.  

#### JSON

- JSON是一种轻量级的数据交换格式(数据封装格式)

- 客户端和服务器之间需要互相传递数据,当需要传递复杂数据时需要按照特定的格式将数据进行封装,JSON就是这样一个通用格式

 ```json
[{"id":1,"title":"阿迪袜子","price":10.0,"saleCount":1000},{"id":3,"title":"裤子","price":50.0,"saleCount":400},{"id":4,"title":"袜子","price":5.0,"saleCount":100}]
 ```



服务器和客户端之间如何传递复杂数据

 <img src="F:/BaiduNetdisk_Downloads/课程源码/javavn2206-master/06第三阶段笔记/06第三阶段笔记/企业微信截图_16702397894851.png" alt="img" style="zoom:50%;" />

#### 如何通过Session对象记住登录状态

1. 在登录成功时把当前客户端登录的user用户对象保存到当前客户端所对应的Session对象里面

2. 每个客户端进入到首页index.html时会立即发请求获取当前客户端登录的用户对象 , 服务器接收到请求后会从当前客户端所对应的Session对象里面获取曾经保存过的用户对象(前提是登陆过) , 如果没有登录直接获取得到的是null返回给客户端 , 此时客户端得到的是""空字符串 , 客户端判断是否是空字符来表示是否登录过 , 通过给isLogin赋值true或false来控制页面显示的内容



#### 会话管理

- 客户端和服务器之间进行数据传输遵循的是HTTP协议 , 此协议属于无状态协议(一次请求对应一次响应,响应完之后链接就会断开) 服务器是无法跟踪客户端的请求 , 通过Cookie服务器可以给客户端添加一个标识 , 当客户端再次发出请求时会带着这个Cookie这样服务器就能识别此客户端了, 但是由于Cookie是保存在客户端的存在被篡改的风险 , Session的出现解决了此问题

- Cookie : 打孔式会员卡 , 数据保存在客户端
  - 只能保存字符串数据
  - 默认数据是保存在浏览器内存中 , 当会话结束(浏览器关闭)数据会删除 , 也可以设置自定义的保存时长 , 设置完之后数据会保存在磁盘中时间到了之后清除
  - 应用场景 : 需要长时间保存的数据 , 比如 : 记住用户名和密码

- Session : 相当于银行账户 , 数据保存在服务器内存中(工程重新启动会清空所有Session)
  - 可以保存任意对象类型的数据
  - 默认数据只能保存半小时左右 , 而且不建议修改保存时长 , 因为数据是保存在服务器的内存中的 , 服务器只有一个所以不能占用太多的内存
  - 应用场景 : 保存登录状态 , 涉及敏感数据 , 因为数据保存在服务器会更安全

 <img src="F:/BaiduNetdisk_Downloads/课程源码/javavn2206-master/06第三阶段笔记/06第三阶段笔记/企业微信截图_16705848965284.png" alt="img" style="zoom: 50%;" />